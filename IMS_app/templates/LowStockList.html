{% extends 'NavBar.html' %}
<!DOCTYPE html>
<html lang="en">

<head>
    {% load static %}
</head>

<body>
    {% block content %}
    <div class="ml-3">
        <a href="{% url 'dashboard' %}" type="button" class="mt-3 btnSuccess btn">Back
        </a>
        <h2 class="text-center">List of Low Stocks
            <img style="height: 35px" class="pb-2" src="{% static 'images/warning.png' %}" alt="Card Image 3" />
        </h2>
    </div>


    <!-- Table for displaying low stock list -->
    <div class="d-flex justify-content-center text-center align-items-center pb-4">
        <div class="shadow card ml-5 mr-5 mt-4 " style="width:60%;">
            <table class="table table-hover text-center">
                <thead>
                    <tr>
                        <th scope="col">Sl. No.</th>
                        <th scope="col">Item Name</th>
                        <th scope="col">Quantity</th>
                        <th scope="col">Supplier Name</th>
                        <th scope="col">Date Added</th>
                    </tr>
                </thead>
                <tbody>
                    {% for i in lowStockList %}
                    <tr>
                        <td>{{ forloop.counter }}</td>
                        <td>{{ i.itemName }}</td>
                        <td>{{ i.quantity }}</td>
                        <td>{{ i.supplier }}</td>
                        <td>{{ i.dateAdded }}</td>
                        <td><button class="btn btn-danger btn-sm remove-btn">Ignore Now</button></td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <!--Script to remove a row just for now-->
    <script>
        // Add event listeners to all "Ignore Now" buttons
        document.querySelectorAll('.remove-btn').forEach(button => {
            button.addEventListener('click', function() {
                // Get the current row (parent element of the button's parent)
                const row = this.closest('tr');
                // Ignore Now the row from the table
                row.remove();
            });
        });
    </script>


    {% endblock %}
</body>

</html>
